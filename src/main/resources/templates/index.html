<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/css/style.css">

    <title>Home</title>
</head>
<body>
    <div class="container">
        <section class="header">
            <h2>Café da Manhã <img class="cafe" src="./assets/images/cafe.png" alt="Ícone Café"></h2>
            <button class="ver-cadastros" onclick="exibir()">Ver Cadastros</button>
        </section>
        
        <form id="form" class="form" name="formulario">
            <div class="conteudo">
                <div class="campo">
                    <label for="username" class="nome">Nome do Usuário</label>
                    <input type="text" id="username" name="nome" placeholder="Digite seu Nome">
                </div>

                <div class="campo">
                    <label for="cpf">CPF</label>
                    <input type="text" id="cpf" name="cpf" placeholder="Digite seu CPF">
                </div>

                <div class="campo">
                    <label for="cafe">Café da Manhã</label>
                    <input type="text" id="cafe" name="cafe" placeholder="Escreva o que você trouxe">
                </div>

                <div class="campo">
                    <label for="data">Data</label>
                    <input type="text" id="data" name="data" placeholder="Escreva a data do dia">
                </div>
            </div>
            <button class="botao" type="submit">
                <h1>Cadastrar</h1>
            </button>
        
        </form>
       
       

    <script>
         var form = document.forms.formulario;
            console.log(form)
            form.addEventListener('submit',(e)=>{
                e.preventDefault();
                const {nome,cpf,cafe,data}=form;
                submitForm({
                    nome:nome.value,
                    cpf:cpf.value,
                    cafe:cafe.value,
                    data:data.value
                })
        })
        function submitForm(body) {
           
            
            const options={
                method:'POST', 
                headers: {
                    'Content-Type': 'application/json'
                },
                body:JSON.stringify(body)


            }
            console.log(options)

            fetch('http://localhost:8080/colaboradores',options).then(resp=>{
              return resp.json();

            }).then(data=>console.log(data))
            .catch(error=>console.log(error))
        }

        function exibir(){
            fetch('http://localhost:8080/colaboradores').then(resp=>{
              return resp.json();

            }).then(data=>console.log(data))
            .catch(error=>console.log(error))
        }
    </script>
</body>
</html>
xhr.onreadystatechange = function() {
    if (xhr.readyState == XMLHttpRequest.DONE) {
       
        console.log(xhr.responseText);
    }
};

console.log(resp);

